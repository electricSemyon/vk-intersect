{
  "name": "vkapi",
  "version": "1.0.0",
  "description": "Node.JS VK API Library",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/57uff3r/nodejs-vksdk.git"
  },
  "keywords": [
    "vkapi",
    "vksdk",
    "vkapisdk"
  ],
  "author": {
    "name": "Andrey Korchak"
  },
  "license": "BSD-2-Clause",
  "bugs": {
    "url": "https://github.com/57uff3r/nodejs-vksdk/issues"
  },
  "readme": "nodejs-vksdk\n============\n\nПростой SDK для выполнения запросов к API социальной сети «ВКонтакте».\n\n\nУстановка\n-------\nПросто скопируйте файл vksdk.js в свой проект и подключите.\n\n```js\nvar VK = require('./vksdk.js');\n```\n\nНастройка\n-------\nПоддерживается два способа авторизации и отправки запросов.\n\n* sig (через подпись, по http) (http://vk.com/developers.php?oid=-1&p=%D0%92%D0%B7%D0%B0%D0%B8%D0%BC%D0%BE%D0%B4%D0%B5%D0%B9%D1%81%D1%82%D0%B2%D0%B8%D0%B5_%D1%81_API_%D0%B1%D0%B5%D0%B7_HTTPS)\n* oauth, через https (http://vk.com/developers.php?oid=-1&p=%D0%92%D1%8B%D0%BF%D0%BE%D0%BB%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5_%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D0%BE%D0%B2_%D0%BA_API)\n\nSDK предоставляет оба способа, можно выбрать при инициализации.\n\n```js\nvar vk = new VK({\n    'appID'     : 2807970,\n    'appSecret' : 'L1ZKpgQPalJdumI6vFK',\n    'mode'      : 'oauth'\n});\n```\n\n```js\nvar vk = new VK({\n    'appID'     : 2807970,\n    'appSecret' : 'L1ZKpgQPalJdumI6vFK',\n    'mode'      : 'sig'\n});\n```\n\nПри необходимости режим выполнения запросов меняется в любой момент:\n\n```js\nvk.changeMode('oauth');\n```\nили\n\n```js\nvk.changeMode('sig');\n```\n\nАвторизация через sig\n-------\nСпециальная авторизация не требуется, достаточно appID и appSecret\n\n\nАвторизация через oauth\n-------\nДля выполнения запросов нужен токен. \n\nМожно заставить SDK автоматически запросить токен. Полученный токен — это авторизация \nсервера приложений. С ним можно выполнять некоторые операции, не касающиеся \nпользовательских данных. Например, secure.getAppBalance или secure.sendNotification.\n\nПоскольку токен генерируется не сразу, нужно подождать события.\n* appServerTokenReady — событие успешно полученного токена\n* appServerTokenNotReady — ошибка запроса токена\n\n```js\nvk.setToken();\nvk.on('appServerTokenReady', function() {\n    vk.request('secure.getAppBalance');\n    // и так далее...\n});\nvk.on('appServerTokenNotReady', function(_error) {\n    // обрабатываем ошибку установки токена\n});\n```\n\nМожно получить токен через код, отправленный с фронт-енда. Про процесс авторизации \nи код написано здесь: http://vk.com/developers.php?oid=-1&p=%D0%90%D0%B2%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F_%D1%81%D0%B0%D0%B9%D1%82%D0%BE%D0%B2\nВ этом случае SDK возьмет код, обратится с ним к oauth И получит токен,\nс которым и будет выполнять запросы. Получение токена тоже занимает время, \nпоэтому нужно подождать событий. Это токен позволяет запрашивать данные \nпользователей.\n\n```js\nvk.setToken({ code : '0819c207b9933a' });\nvk.on('tokenByCodeReady', function() {\n    vk.request('getProfiles', {'uids' : '29894'});\n    // и так далее...\n});\nvk.on('tokenByCodeNotReady', function(_error) {\n    // обрабатываем ошибку установки токена\n});\n```\n\nТретий способ — задать токен напрямую. Токен можно получить с фронт-енда или использовать \nранее полученный токен. Здесь дожидаться событий не нужно — токен задается сразу.\n\n```js\nvk.setToken( { token :'f1eebc4311e775b128183993ee16302ac036a67af30424238d1oo14d35dfa61896f172ee630b7034a' });\nvk.request('getProfiles', {'uids' : '29894'});\nvk.on('done:getProfiles', function(_o) {\n    console.log(_o);\n});\n```\n\nЗапросы\n-------\nЗапросы выполняются так:\n\n```js\nvk.request('getProfiles', {'uids' : '29894'});\nvk.on('done:getProfiles', function(_o) {\n    console.log(_o);\n});\n```\n\nПередаем в request название метода API и параметры. По готовности результата сгенерируется\n событие вида done:methodName. В этом примере запрашивается getProfiles, значит \nсобытие готовности — done:getProfiles.\n\nБывает и так, что нужно выполнить несколько однотипных запросов. На каждый запрос \nможно назначить свое имя события (чтобы события не конфликтовали):\n\n\n```js\nvk.request('getProfiles', {'uids' : '29894'}, 'myEvent1');\nvk.on('myEvent1', function(_o) {\n    console.log(_o);\n});\n\nvk.request('getProfiles', {'uids' : '1'}, 'myEvent2');\nvk.on('myEvent2', function(_o) {\n    console.log(_o);\n});\n```\n\nМы назначили два события: myEvent1 и myEvent2. С первым придут данные для пользователя \n 29894, со вторым — пользователя 1.\n\nСистемные события в SDK\n-------\n* tokenByCodeReady — получен токен по коду\n* tokenByCodeNotReady — ошибка получения токена по коду\n* appServerTokenReady — получен токен сервера приложений\n* appServerTokenNotReady — ошибка получения токена сервера приложений\n\nПолный список методов\n-------\n* setToken([params]) — установка токена через код, напрямую или запрос токена с сервера.\n* changeMode(string) — установка режима работы SDK (oauth или sig)\n* getToken() — получить текущий рабочий токен\n* request(methodName, methodParams, [eventName]) — выполнить запрос к методу API, используя параметры (и, возможно, указать кастомное событие)\n\nВ SDK доступны все методы из events.EventEmitter (http://nodejs.org/api/events.html)\n\nПоддержка\n-------\n* 57uff3r@gmail.com\n* http://57uff3r.ru\n* http://vk.com/s7uff3r\n* Дополнительно: база данных городов и стран vk.com http://citieslist.ru/",
  "readmeFilename": "README.md",
  "_id": "vkapi@1.0.0",
  "dist": {
    "shasum": "873f12444c236ec2ca6d53401814ecba0fe3946a",
    "tarball": "https://registry.npmjs.org/vkapi/-/vkapi-1.0.0.tgz"
  },
  "_from": "vkapi@latest",
  "_npmVersion": "1.3.8",
  "_npmUser": {
    "name": "xikke",
    "email": "gena_bestov96@mail.ru"
  },
  "maintainers": [
    {
      "name": "xikke",
      "email": "gena_bestov96@mail.ru"
    }
  ],
  "directories": {},
  "_shasum": "873f12444c236ec2ca6d53401814ecba0fe3946a",
  "_resolved": "https://registry.npmjs.org/vkapi/-/vkapi-1.0.0.tgz",
  "homepage": "https://github.com/57uff3r/nodejs-vksdk#readme"
}
